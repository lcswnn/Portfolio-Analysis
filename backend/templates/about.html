<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="static/styles.css">
  <title>Portfolio Dashboard</title>
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon_io-2/apple-touch-icon.png') }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon_io-2/favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon_io-2/favicon-16x16.png') }}">
  <link rel="manifest" href="{{ url_for('static', filename='favicon_io-2/site.webmanifest') }}">
  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon_io-2/favicon.ico') }}">
</head>
<body>

  <div id="nav-bar">
    <ul>
      <li><a class="hover-underline" href="{{ url_for('index') }}"> Home </a></li>
      <li><a class="hover-underline" href="{{ url_for('about') }}"> About </a></li>
      {% if current_user.is_authenticated %}
        
        <li><a class="hover-underline" href="{{ url_for('optimize') }}"> Recommendations </a></li>
        <li><a class="hover-underline" href="{{ url_for('profile') }}"> Profile </a></li>
        <li><a class="hover-underline" href="{{ url_for('logout') }}"> Log Out </a></li>
      {% else %}
        <li><a class="hover-underline" href="{{ url_for('register') }}"> Sign Up </a></li>
        <li><a class="hover-underline" href="{{ url_for('login') }}"> Log In </a></li>
      {% endif %}
    </ul>
  </div>

  <div class="header">
    <h1 id="secondary-header" class="fadeInUp-animation">About OptiFinance</h1>
    <h2 class="fadeInUp-animation2">Intelligent Portfolio Recommendations Using Machine Learning</h2>
  </div>

  <div class="about-container">

    <!-- What is OptiFinance Section -->
    <section class="about-section">
      <h2 class="section-title">What is OptiFinance?</h2>
      <p>OptiFinance is an intelligent portfolio analysis and recommendation platform powered by the CatBoost machine learning algorithm.
        We help investors make data-driven decisions by analyzing 1500+ large, mid, and small cap stocks from major ETFs (SPY, MDY, SPSM) to create evidence-based trading recommendations.
        OptiFinance is NOT a financial advisor. It analyzes the stock market using historical data and machine learning to provide probability-based predictions. </p> <br>
      <p>Our system evaluates stocks and provides eight key insights: <strong>Probability of beating the market</strong>,
        <strong>Sharpe Ratio (risk-adjusted returns)</strong>, <strong>Momentum based on the last 6 months</strong>, <strong>Momentum Acceleration (trend strength)</strong>,
        <strong>Volatility (price swing range)</strong>, <strong>Dividend yield</strong>, <strong>Average Correlation with other picks</strong>, and <strong>Market Correlation</strong>.</p>
    </section>

    <!-- Key Features Section -->
    <section class="about-section">
      <h2 class="section-title">Key Metrics Explained</h2>
      <div class="features-grid">
        <div class="feature-card">
          <h3 class="feature-title">Probability %</h3>
          <p>The CatBoost model's prediction of how likely the stock is to outperform the equal-weighted market average over the next 3 months. Higher = better chance of beating the market.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">Sharpe Ratio</h3>
          <p>Risk-adjusted return metric showing how much return you earn per unit of risk taken. Higher Sharpe ratios indicate better quality returns relative to volatility.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">Momentum %</h3>
          <p>The stock's 6-month return expressed as a percentage. Positive (green) means the stock is up, negative (red) means it's down over the past 6 months.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">Momentum Accel %</h3>
          <p>Acceleration of the momentum trend - shows if momentum is speeding up (positive/green) or slowing down (negative/red). Indicates trend strength changes.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">Volatility %</h3>
          <p>Annualized standard deviation of daily returns. How much the stock's price typically swings up and down. Lower volatility = more stable, predictable price movement.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">Dividend %</h3>
          <p>Annual dividend yield showing how much cash income you receive per year as a percentage of the stock's price. Income per $100 invested annually.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">Avg Correlation</h3>
          <p>Average correlation with other recommended stocks in the list. Lower values = more diversified (moves independently from other picks). Good for portfolio diversification.</p>
        </div>
        <div class="feature-card">
          <h3 class="feature-title">Market Correlation</h3>
          <p>How much the stock moves with the overall market. Lower = better diversification benefit, as it won't move in lockstep with broader market swings.</p>
        </div>
      </div>
    </section>

    <!-- How It Works Section -->
    <section class="about-section">
      <h2 class="section-title">How OptiFinance Works</h2>
      <div class="steps-container">
        <div class="step">
          <div class="step-number">1</div>
          <h3>Stock Universe Selection</h3>
          <p>We analyze 1500+ large, mid, and small cap stocks by scraping holdings from major ETFs (SPY, MDY, SPSM) using web scraping. This ensures we cover the most liquid, widely-owned stocks.</p>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <h3>Historical Data Collection</h3>
          <p>Download 5+ years of historical price data for each stock using the yfinance library. We calculate monthly snapshots with a 6-month rolling window to capture trend information.</p>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <h3>Feature Engineering</h3>
          <p>Extract 9 key features: Momentum (6-month return), Volatility (annualized std dev), Sharpe Ratio, Momentum Acceleration, Dividend Yield, and correlation metrics (avg, max, min, market correlation).</p>
        </div>
        <div class="step">
          <div class="step-number">4</div>
          <h3>Model Training</h3>
          <p>Train a CatBoost classifier using historical data to predict if a stock will beat the market. The model learns patterns from 200 boosting iterations with 4-depth trees.</p>
        </div>
        <div class="step">
          <div class="step-number">5</div>
          <h3>Probability Generation</h3>
          <p>For the latest date in our dataset, run the trained model to generate a probability score (0-100%) for each stock beating the market in the next 3 months.</p>
        </div>
        <div class="step">
          <div class="step-number">6</div>
          <h3>Portfolio Analysis</h3>
          <p>Upload your portfolio CSV and we store your holdings in a secure, user-specific database. View animated graphs showing your portfolio timeline and holdings allocation by type.</p>
        </div>
        <div class="step">
          <div class="step-number">7</div>
          <h3>Recommendations</h3>
          <p>Receive the top 20 stocks with probability ≥ 50% of beating the market, sorted by likelihood. Each stock shows all 8 metrics to help you make informed decisions.</p>
        </div>
      </div>
    </section>

    <!-- Machine Learning Approach Section -->
    <section class="about-section">
      <h2 class="section-title">Our Machine Learning Approach</h2>
      <p>OptiFinance uses a CatBoost gradient boosting classifier as its primary machine learning engine, chosen for its superior performance with categorical features and robust handling of market data:</p>

      <div class="ml-approach-grid">
        <div class="ml-card">
          <h3>Primary Model: CatBoost Classifier</h3>
          <p><strong>Type:</strong> Binary Classification (Beat Market vs. Underperform)</p>
          <p>Predicts whether a stock will outperform the equal-weighted market average over the next 3 months based on 9 engineered features.</p>
          <p><strong>Architecture:</strong> 200 boosting iterations, depth 4 trees, 0.05 learning rate</p>
          <p><strong>Why CatBoost?</strong> Handles numerical and categorical features naturally, prevents overfitting, provides reliable probability calibration</p>
        </div>

        <div class="ml-card">
          <h3>Feature Engineering Pipeline</h3>
          <p><strong>Type:</strong> Time-series Feature Extraction</p>
          <p>Calculates 9 quantitative metrics at monthly intervals using 6-month rolling windows from 5+ years of historical data:</p>
          <p>• Momentum, Volatility, Sharpe Ratio, Momentum Acceleration<br>
             • Dividend Yield, Average Correlation, Max/Min Correlation, Market Correlation</p>
          <p><strong>Data Cleaning:</strong> Removes infinite values, NaN entries, stocks with insufficient data (&lt;250 data points)</p>
        </div>

        <div class="ml-card">
          <h3>Training Methodology</h3>
          <p><strong>Type:</strong> Supervised Learning with Time-Series Split</p>
          <p>Trains on 70% historical data (older dates), validates on 30% test set (recent dates) to simulate real-world deployment.</p>
          <p><strong>Target Variable:</strong> Binary flag indicating if 3-month forward return beat the market average</p>
          <p><strong>Validation:</strong> Tests model accuracy, precision, recall on unseen future data</p>
        </div>

        <div class="ml-card">
          <h3>Ensemble Comparison</h3>
          <p><strong>Type:</strong> Multi-Model Validation</p>
          <p>We tested multiple ML algorithms to ensure CatBoost selection: XGBoost, LightGBM, LSTM Neural Networks, and Ensemble voting classifiers.</p>
          <p><strong>Result:</strong> CatBoost provided optimal balance of accuracy, interpretability, and prediction calibration</p>
        </div>

        <div class="ml-card">
          <h3>Correlation-Based Diversification</h3>
          <p><strong>Type:</strong> Portfolio Optimization</p>
          <p>Builds correlation matrix from 6-month momentum data to identify stock relationships. Recommends diversified portfolios by limiting correlations between picks.</p>
          <p><strong>Benefit:</strong> Ensures recommended stocks move somewhat independently, reducing portfolio risk</p>
        </div>

        <div class="ml-card">
          <h3>Probability Scoring</h3>
          <p><strong>Type:</strong> Calibrated Probability Estimation</p>
          <p>Generates probability scores (0-100%) for each stock beating the market. Filters to stocks with ≥50% probability for recommendations.</p>
          <p><strong>Advantage:</strong> Investors see confidence scores, not just binary buy/sell signals</p>
        </div>
      </div>
    </section>

    <!-- Implementation Roadmap Section -->
    <section class="about-section">
      <h2 class="section-title">Current Implementation Status</h2>

      <div class="roadmap-phase">
        <h3 class="phase-title">✓ Phase 1: Data Pipeline & Stock Universe (COMPLETE)</h3>
        <ul class="implementation-list">
          <li>Web scraping pipeline to extract 1500+ stocks from ETF holdings (SPY, MDY, SPSM)</li>
          <li>yfinance integration to download 5+ years of historical price data</li>
          <li>Batch processing with rate limiting and retry logic</li>
          <li>Data validation and filtering (remove incomplete data &lt;250 points)</li>
          <li>Store all features in stock_features.csv (75,720+ rows)</li>
        </ul>
      </div>

      <div class="roadmap-phase">
        <h3 class="phase-title">✓ Phase 2: Feature Engineering (COMPLETE)</h3>
        <ul class="implementation-list">
          <li>Calculate 9 key metrics: Momentum, Volatility, Sharpe Ratio, Momentum Acceleration</li>
          <li>Correlation analysis: Average, Max, Min, and Market Correlation</li>
          <li>Dividend yield extraction from financial data</li>
          <li>Monthly snapshots with 6-month rolling windows</li>
          <li>Data normalization and outlier handling (remove inf/-inf values, NaN)</li>
        </ul>
      </div>

      <div class="roadmap-phase">
        <h3 class="phase-title">✓ Phase 3: CatBoost Model Training (COMPLETE)</h3>
        <ul class="implementation-list">
          <li>CatBoost classifier with 200 iterations, depth 4, learning rate 0.05</li>
          <li>Binary classification: Beat Market vs. Underperform</li>
          <li>70/30 time-series train/test split</li>
          <li>Model validation with accuracy, precision, recall metrics</li>
          <li>Probability calibration for reliable confidence scores</li>
        </ul>
      </div>

      <div class="roadmap-phase">
        <h3 class="phase-title">✓ Phase 4: Recommendation Generation (COMPLETE)</h3>
        <ul class="implementation-list">
          <li>Generate probability predictions for all stocks in latest dataset</li>
          <li>Filter for stocks with ≥50% probability of beating market</li>
          <li>Sort recommendations by probability (highest first)</li>
          <li>Return top 20 picks with all 8 metrics displayed</li>
          <li>Correlation-based diversification filtering</li>
        </ul>
      </div>

      <div class="roadmap-phase">
        <h3 class="phase-title">✓ Phase 5: Multi-User Portfolio Analysis (COMPLETE)</h3>
        <ul class="implementation-list">
          <li>User registration and secure authentication (Bcrypt hashing)</li>
          <li>CSV portfolio upload with automatic date extraction</li>
          <li>Multi-user data isolation via user_id foreign keys</li>
          <li>Animated portfolio timeline graph (Plotly with CSS animation)</li>
          <li>Holdings allocation pie chart by security type</li>
        </ul>
      </div>

      <div class="roadmap-phase">
        <h3 class="phase-title">→ Phase 6: Future Enhancements (IN PROGRESS)</h3>
        <ul class="implementation-list">
          <li>Enhanced price forecasting with time-series models (ARIMA, Prophet)</li>
          <li>Real-time data updates for stock features</li>
          <li>Advanced portfolio optimization suggestions</li>
          <li>Sector and industry analysis</li>
          <li>Risk assessment and Value at Risk (VaR) calculations</li>
        </ul>
      </div>
    </section>

    <!-- Tech Stack Section -->
    <section class="about-section">
      <h2 class="section-title">Technology Stack</h2>
      <div class="tech-stack-grid">
        <div class="tech-item">
          <strong>Backend Framework:</strong> Flask (Python web framework)
        </div>
        <div class="tech-item">
          <strong>Database:</strong> SQLite3 with SQLAlchemy ORM
        </div>
        <div class="tech-item">
          <strong>Machine Learning:</strong> CatBoost (gradient boosting), comparison with XGBoost & LightGBM
        </div>
        <div class="tech-item">
          <strong>Data Processing:</strong> Pandas, NumPy for feature engineering and data cleaning
        </div>
        <div class="tech-item">
          <strong>Data Source:</strong> yfinance for historical price data, BeautifulSoup for web scraping
        </div>
        <div class="tech-item">
          <strong>Visualization:</strong> Plotly for interactive graphs with CSS animations
        </div>
        <div class="tech-item">
          <strong>Authentication:</strong> Flask-Login, Flask-WTF, Flask-Bcrypt for secure user management
        </div>
        <div class="tech-item">
          <strong>Frontend:</strong> HTML5 (Jinja2 templates), CSS3 (animations), JavaScript (interactivity)
        </div>
        <div class="tech-item">
          <strong>Python Version:</strong> Python 3.13
        </div>
      </div>
    </section>

  </div>

  <div class="footer">
    <p>© 2025 OptiFinance. All rights reserved.</p>
  </div>

  <script src="static/script.js"></script>

</body>
</html>